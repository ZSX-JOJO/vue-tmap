import{r as n,o as a,c as s,a as t,b as p,d as o}from"./app.03146c53.js";const e='{"title":"地图","description":"","frontmatter":{},"headers":[{"level":2,"title":"基础示例","slug":"基础示例"},{"level":2,"title":"props","slug":"props"},{"level":3,"title":"本组件库自定义属性","slug":"本组件库自定义属性"},{"level":3,"title":"腾讯地图原有属性","slug":"腾讯地图原有属性"},{"level":2,"title":"事件","slug":"事件"},{"level":2,"title":"地图实例","slug":"地图实例"}],"relativePath":"api/map.md","lastUpdated":1651734378544}',c={},l=t("h1",{id:"地图"},[t("a",{class:"header-anchor",href:"#地图","aria-hidden":"true"},"#"),p(" 地图")],-1),u=t("p",null,"地图组件",-1),k=t("blockquote",null,[t("p",null,"请注意，本文档中所有示例使用的 mapKey 仅作文档测试使用，不定期修改相关配置，请勿使用在任何项目中")],-1),r=t("h2",{id:"基础示例"},[t("a",{class:"header-anchor",href:"#基础示例","aria-hidden":"true"},"#"),p(" 基础示例")],-1),i={style:{height:"400px"}},d=o('<div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tmap-map</span>\n    <span class="token attr-name">mapKey</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TOZBZ-OU2CX-JJP4Z-7FCBV-CDDJ2-AHFQZ<span class="token punctuation">&quot;</span></span>\n    <span class="token attr-name">:events</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>events<span class="token punctuation">&quot;</span></span>\n    <span class="token attr-name">:center</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>\n    <span class="token attr-name">:zoom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zoom<span class="token punctuation">&quot;</span></span>\n    <span class="token attr-name">:doubleClickZoom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doubleClickZoom<span class="token punctuation">&quot;</span></span>\n    <span class="token attr-name">:control</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span>\n  <span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ctrl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>move({ lat: 30.290756, lng: 120.074387 })<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        杭州\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>move({ lat: 39.943436, lng: 116.455078 })<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        北京\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zoomTo(10)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        zoomTo 10\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zoomTo(15)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        zoomTo 15\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggleDoubleClickZoom(!doubleClickZoom)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        toggleDoubleClickZoom: {{ doubleClickZoom }}\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tmap-map</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  name<span class="token operator">:</span> <span class="token string">&#39;Home&#39;</span><span class="token punctuation">,</span>\n  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> center <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span> lat<span class="token operator">:</span> <span class="token number">30.290756</span><span class="token punctuation">,</span> lng<span class="token operator">:</span> <span class="token number">120.074387</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> zoom <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> doubleClickZoom <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">latLng<span class="token operator">:</span> <span class="token punctuation">{</span> lat<span class="token operator">:</span> number<span class="token punctuation">;</span> lng<span class="token operator">:</span> number <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n      center<span class="token punctuation">.</span>value <span class="token operator">=</span> latLng<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> <span class="token function-variable function">zoomTo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n      zoom<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> <span class="token function-variable function">print</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> unknown</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      center<span class="token punctuation">,</span>\n      zoom<span class="token punctuation">,</span>\n      doubleClickZoom<span class="token punctuation">,</span>\n      control<span class="token operator">:</span> <span class="token punctuation">{</span>\n        scale<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n        zoom<span class="token operator">:</span> <span class="token punctuation">{</span>\n          position<span class="token operator">:</span> <span class="token string">&#39;bottomRight&#39;</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      events<span class="token operator">:</span> <span class="token punctuation">{</span>\n        dblclick<span class="token operator">:</span> print<span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      move<span class="token punctuation">,</span>\n      zoomTo<span class="token punctuation">,</span>\n      <span class="token function-variable function">toggleDoubleClickZoom</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n        doubleClickZoom<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">\n<span class="token selector">.ctrl</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 1001<span class="token punctuation">;</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>\n  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>\n</code></pre></div><h2 id="props"><a class="header-anchor" href="#props" aria-hidden="true">#</a> props</h2><h3 id="本组件库自定义属性"><a class="header-anchor" href="#本组件库自定义属性" aria-hidden="true">#</a> 本组件库自定义属性</h3><table><thead><tr><th>名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>version</td><td>String</td><td>sdk 版本</td></tr><tr><td>mapKey</td><td>String</td><td>开发者 token</td></tr><tr><td>libraries</td><td>String[]</td><td>地图扩展库，默认包含 [&#39;visualization&#39;, &#39;tools&#39;, &#39;geometry&#39;], 可增加其他库</td></tr><tr><td>class</td><td>String</td><td>地图容器 classname</td></tr><tr><td>style</td><td>Object</td><td>地图容器 style</td></tr><tr><td>control</td><td>ControlType(参考下面的类型定义)</td><td>地图控件的配置</td></tr><tr><td>events</td><td>{ [key: string]: Function }</td><td>地图事件</td></tr></tbody></table><div class="language-ts"><pre><code><span class="token keyword">interface</span> <span class="token class-name">ControlType</span> <span class="token punctuation">{</span>\n  scale<span class="token operator">:</span> <span class="token punctuation">{</span> position<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> className<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  zoom<span class="token operator">:</span> <span class="token punctuation">{</span> position<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> className<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  rotation<span class="token operator">:</span> <span class="token punctuation">{</span> position<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> className<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h3 id="腾讯地图原有属性"><a class="header-anchor" href="#腾讯地图原有属性" aria-hidden="true">#</a> 腾讯地图原有属性</h3><table><thead><tr><th>名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>center</td><td>{ lat: number; lng: number }</td><td>地图中心点经纬度。</td></tr><tr><td>zoom</td><td>Number</td><td>地图缩放级别，支持 3 ～ 20。</td></tr><tr><td>minZoom</td><td>Number</td><td>地图最小缩放级别，默认为 3。</td></tr><tr><td>maxZoom</td><td>Number</td><td>地图最大缩放级别，默认为 20。</td></tr><tr><td>rotation</td><td>Number</td><td>地图在水平面上的旋转角度，顺时针方向为正，默认为 0。</td></tr><tr><td>pitch</td><td>Number</td><td>地图俯仰角度，取值范围为 0~80，默认为 0。</td></tr><tr><td>scale</td><td>Number</td><td>地图显示比例，默认为 1。</td></tr><tr><td>offset</td><td>{ x: number; y: number }</td><td>地图中心与容器的偏移量</td></tr><tr><td>draggable</td><td>Boolean</td><td>是否支持拖拽移动地图，默认为 true。</td></tr><tr><td>scrollable</td><td>Boolean</td><td>是否支持鼠标滚轮缩放地图，默认为 true。</td></tr><tr><td>doubleClickZoom</td><td>Boolean</td><td>是否支持双击缩放地图，默认为 true。</td></tr><tr><td>boundary</td><td>LatLngBounds</td><td>地图边界</td></tr><tr><td>mapStyleId</td><td>String</td><td>地图样式 ID</td></tr><tr><td>baseMap</td><td>TMap.BaseMap</td><td>地图底图</td></tr><tr><td>viewMode</td><td>String</td><td>地图视图模式，支持 2D 和 3D</td></tr></tbody></table><p>详细文档见官网 <a href="https://lbs.qq.com/webApi/javascriptGL/glDoc/docIndexMap" target="_blank" rel="noopener noreferrer">https://lbs.qq.com/webApi/javascriptGL/glDoc/docIndexMap</a></p><h2 id="事件"><a class="header-anchor" href="#事件" aria-hidden="true">#</a> 事件</h2><p>以事件名为 key，监听函数为 value 的配置对象传入 props.events</p><h2 id="地图实例"><a class="header-anchor" href="#地图实例" aria-hidden="true">#</a> 地图实例</h2><p>地图组件的子组件可以通过</p><div class="language-js"><pre><code><span class="token keyword">const</span> map <span class="token operator">=</span> inject <span class="token operator">&lt;</span> Ref <span class="token operator">&lt;</span> TMap<span class="token punctuation">.</span>Map <span class="token operator">&gt;&gt;</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">;</span>\n</code></pre></div><p>获取组件的实例 ref</p>',14);c.render=function(p,o,e,c,g,m){const b=n("DemoTMap");return a(),s("div",null,[l,u,k,r,t("div",i,[t(b)]),d])};export default c;export{e as __pageData};
